<div class="container-fluid" kkf-permssion-notfound="SALES_SALESREPORT_PIBYITEMS">
    <div class="row">
        <ol class="breadcrumb">
            <li><a href="/sales">sales</a></li>
            <li><a href="#">salesreport</a></li>
            <li class="active"><a href="#">cibyitemsreport</a></li>
        </ol>
    </div>

    <div class="panel panel-primary">
        <div class="panel-heading"><span>CI By Items Report</span></div>
        <div class="panel-body">
            <form class="form-inline">
                <div class="form-group w150-mb5">
                    <label class="w100p"><span lang-coded="LB_DATEFROM">Date From</span> : </label>
                    <input type="date" uib-tooltip="{{ dateFormat }}" ng-model="dateFrom" ng-change="ChkDate()" class="form-control" />
                </div>
                <div class="form-group w150-mb5">
                    <label class="w100p"> <span lang-coded="LB_DATETO">Date To</span> : </label>
                    <input type="date" uib-tooltip="{{ dateFormat }}" ng-model="dateTo" ng-change="ChkDate()" class="form-control" />
                </div>
                <div class="form-group w250-mb5">
                    <label class="w100p"><span>Customers</span> : </label>
                    <tags-input ng-model="customers"
                                add-on-paste="true"
                                placeholder="code : name"
                                display-property="code"
                                min-length="1"
                                add-from-autocomplete-only="true"
                                replace-spaces-with-dashes="false">
                        <auto-complete source="LoadCustomers($query)"
                                       min-length="0"
                                       display-property="text"
                                       load-on-focus="true"
                                       load-on-empty="true"
                                       load-on-down-arrow="true"
                                       debounce-delay="0"
                                       max-results-to-show="15"></auto-complete>
                    </tags-input>
                </div>
                <div class="form-group w250-mb5">
                    <label class="w100p"><span>Country</span> : </label>
                    <tags-input ng-model="countrys"
                                add-on-paste="true"
                                placeholder="code : name"
                                display-property="code"
                                min-length="1"
                                add-from-autocomplete-only="true"
                                replace-spaces-with-dashes="false">
                        <auto-complete source="LoadCountry($query)"
                                       min-length="0"
                                       display-property="text"
                                       load-on-focus="true"
                                       load-on-empty="true"
                                       load-on-down-arrow="true"
                                       debounce-delay="0"
                                       max-results-to-show="15"></auto-complete>
                    </tags-input>
                </div>

                <div class="form-group w250-mb5">
                    <label class="w100p"><span>Regional Zone</span> : </label>
                    <tags-input ng-model="regzone"
                                add-on-paste="true"
                                placeholder="Regional Code"
                                display-property="code"
                                min-length="1"
                                add-from-autocomplete-only="true"
                                replace-spaces-with-dashes="false">
                        <auto-complete source="LoadRegzone($query)"
                                       min-length="0"
                                       display-property="text"
                                       load-on-focus="true"
                                       load-on-empty="true"
                                       load-on-down-arrow="true"
                                       debounce-delay="0"
                                       max-results-to-show="15"></auto-complete>
                    </tags-input>
                </div>
                <div class="form-group w250-mb5">
                    <label class="w100p"><span>Zones</span> : </label>
                    <tags-input ng-model="zones"
                                add-on-paste="true"
                                placeholder="code : name"
                                min-length="1"
                                display-property="code"
                                add-from-autocomplete-only="true"
                                replace-spaces-with-dashes="false">
                        <auto-complete source="LoadZones($query)"
                                       min-length="0"
                                       display-property="text"
                                       debounce-delay="0"
                                       load-on-focus="true"
                                       load-on-empty="true"
                                       load-on-down-arrow="true"
                                       max-results-to-show="30"></auto-complete>
                    </tags-input>
                </div>

                <div class="form-group w150-mb5">
                    <label class="w100p"><span>Product Type</span> : </label>
                    <tags-input ng-model="productType"
                                add-on-paste="true"
                                placeholder="code : name"
                                min-length="1"
                                display-property="code"
                                add-from-autocomplete-only="true"
                                replace-spaces-with-dashes="false">
                        <auto-complete source="LoadProductType($query)"
                                       min-length="0"
                                       display-property="text"
                                       debounce-delay="0"
                                       load-on-focus="true"
                                       load-on-empty="true"
                                       load-on-down-arrow="true"
                                       max-results-to-show="15"></auto-complete>
                    </tags-input>
                </div>

                <div class="form-group w150-mb5">
                    <label class="w100p"><span>Quality</span> : </label>
                    <tags-input ng-model="productQuality"
                                add-on-paste="true"
                                placeholder="code : name"
                                min-length="1"
                                display-property="code"
                                add-from-autocomplete-only="true"
                                replace-spaces-with-dashes="false">
                        <auto-complete source="LoadProductQuality($query)"
                                       min-length="0"
                                       display-property="text"
                                       debounce-delay="0"
                                       load-on-focus="true"
                                       load-on-empty="true"
                                       load-on-down-arrow="true"
                                       max-results-to-show="15"></auto-complete>
                    </tags-input>
                </div>

                <div class="form-group w150-mb5">
                    <label class="w100p"><span>Production Diamrter</span> : </label>
                    <tags-input ng-model="productTwineNo"
                                add-on-paste="true"
                                placeholder="code : name"
                                min-length="1"
                                display-property="code"
                                add-from-autocomplete-only="true"
                                replace-spaces-with-dashes="false">
                        <auto-complete source="LoadProductTwineNo($query)"
                                       min-length="0"
                                       display-property="text"
                                       debounce-delay="0"
                                       load-on-focus="true"
                                       load-on-empty="true"
                                       load-on-down-arrow="true"
                                       max-results-to-show="15"></auto-complete>
                    </tags-input>
                </div>

                <div class="form-group w150-mb5">
                    <label class="w100p"><span>Labeled Diameter</span> : </label>
                    <input type="text" class="form-control" ng-model="diameterLabel" />
                </div>

                <div class="form-group w100-mb5">
                    <label class="w100p"><span>Mesh Size</span> : </label>
                    <input class="form-control" type="number" ng-model="meshSizeProd" />
                </div>

                <div class="form-group w100-mb5">
                    <label class="w100p"><span>Mesh Depth</span> : </label>
                    <input class="form-control" type="number" ng-model="meshDepthProd" />
                </div>

                <div class="form-group w100-mb5">
                    <label class="w100p"><span>Length</span> : </label>
                    <input class="form-control" type="number" ng-model="lengthProd" />
                </div>

                <div class="form-group w150-mb5">
                    <label class="w100p"><span>Knot Type</span> : </label>
                    <tags-input ng-model="knotType"
                                add-on-paste="true"
                                placeholder="code : name"
                                min-length="1"
                                display-property="code"
                                add-from-autocomplete-only="true"
                                replace-spaces-with-dashes="false">
                        <auto-complete source="LoadKnotType($query)"
                                       min-length="0"
                                       display-property="text"
                                       debounce-delay="0"
                                       load-on-focus="true"
                                       load-on-empty="true"
                                       load-on-down-arrow="true"
                                       max-results-to-show="15"></auto-complete>
                    </tags-input>
                </div>

                <div class="form-group w150-mb5">
                    <label class="w100p"><span>Stretching</span> : </label>
                    <tags-input ng-model="stretching"
                                add-on-paste="true"
                                placeholder="code : name"
                                min-length="1"
                                display-property="code"
                                add-from-autocomplete-only="true"
                                replace-spaces-with-dashes="false">
                        <auto-complete source="LoadStretching($query)"
                                       min-length="0"
                                       display-property="text"
                                       debounce-delay="0"
                                       load-on-focus="true"
                                       load-on-empty="true"
                                       load-on-down-arrow="true"
                                       max-results-to-show="15"></auto-complete>
                    </tags-input>
                </div>

                <div class="form-group w150-mb5">
                    <label class="w100p"><span>Color</span> : </label>
                    <tags-input ng-model="color"
                                add-on-paste="true"
                                placeholder="code : name"
                                min-length="1"
                                display-property="code"
                                add-from-autocomplete-only="true"
                                replace-spaces-with-dashes="false">
                        <auto-complete source="LoadColor($query)"
                                       min-length="0"
                                       display-property="text"
                                       debounce-delay="0"
                                       load-on-focus="true"
                                       load-on-empty="true"
                                       load-on-down-arrow="true"
                                       max-results-to-show="15"></auto-complete>
                    </tags-input>
                </div>

                <div class="form-group w150-mb5">
                    <label class="w100p"><span>Label</span> : </label>
                    <tags-input ng-model="label"
                                add-on-paste="true"
                                placeholder="code : name"
                                min-length="1"
                                display-property="code"
                                add-from-autocomplete-only="true"
                                replace-spaces-with-dashes="false">
                        <auto-complete source="LoadLabel($query)"
                                       min-length="0"
                                       display-property="text"
                                       debounce-delay="0"
                                       load-on-focus="true"
                                       load-on-empty="true"
                                       load-on-down-arrow="true"
                                       max-results-to-show="15"></auto-complete>
                    </tags-input>
                </div>

                <div class="form-group">
                    <label class="w100p hidden-xs"></label>
                    <label style="padding-top: 10px;">
                        <input type="checkbox"
                               ng-model="dstkflag" />แสดงยอดขายลูกค้าที่ไม่คิดยอดขาย
                    </label>
                </div>

                <div class="form-group w100-mb5">
                    <label class="w100p hidden-xs color-255">&nbsp;</label>
                    <button class="btn btn-info"
                            ng-click="LoadData()"
                            lang-codeDisable="BTN_SEARCH">
                        Search
                    </button>
                </div>
            </form>
            <div class="row both" style="height:15px;"></div>

            <div class="panel panel-success" ng-controller="SalesReportCIByItemsReportGridCtrl">
                <div class="panel-heading"><span>CI By Items Detail</span> <span ng-show="isGroupChange" class="text-primary" style="margin-left: 10px;">*กรณีเปิดเงื่อนไข Group By ต้องค้นหาข้อมูลใหม่</span><span ng-show="isProcess" class="text-warning" style="margin-left: 10px;">Processing...</span></div>
                <div class="panel-body">
                    <form class="form-inline">
                        <div class="form-group">
                            <label class="w100p margin-right-15px">Display : </label>
                        </div>
                        <div class="form-group">
                            <ul style="list-style-type: none;">
                                <li style="float: left;">
                                    <label class="w100p margin-right-15px"><input type="radio" ng-model="mode" value="Y" /> Year</label>
                                </li>
                                <li style="float: left;">
                                    <label class="w100p margin-right-15px"><input type="radio" ng-model="mode" value="Q" /> Quarter</label>
                                </li>
                                <li style="float: left;">
                                    <label class="w100p margin-right-15px"><input type="radio" ng-model="mode" value="M" /> Month</label>
                                </li>
                            </ul>
                        </div>
                    </form>
                    <div class="row both" style="height: 1px"></div>
                    <form class="form-inline">
                        <div class="form-group">
                            <label class="w100p margin-right-15px">Display Spec : </label>
                        </div>
                        <div class="form-group">
                            <ul style="list-style-type: none;">
                                <li style="float: left;" ng-repeat="item in displayspec | orderBy:'id'">
                                    <label class="w100p margin-right-15px"><input type="checkbox" ng-model="item.checked" ng-change="ColumnChk(item)" /> {{ item.label }}</label>
                                </li>
                            </ul>
                        </div>
                    </form>
                    <div class="row both" style="height:15px;"></div>
                    <!-- ui-grid -->
                    <div ui-grid="gridOpt" ui-grid-cellNav ui-grid-pinning ui-grid-resize-columns ui-grid-exporter ui-grid-auto-resize ui-grid-cell-selection class="grid multi-line" style="height:400px;"></div>
                </div>
                <div class="panel-footer" kkf-permssion-view="STATUS_BAR">
                    <div class="tag-status" title="{{ IP_DB }}[saleex].dbo.COMMERCIAL1MST, [saleex].dbo.COMMERCIAL1TRN">
                        {{ IP_DB }}[saleex].dbo.COMMERCIAL1MST, [saleex].dbo.COMMERCIAL1TRN
                    </div>
                </div>
            </div>

            <div class="form-inline right">
                <button ng-click="Export()"
                        ng-disabled="!btnExport"
                        class="btn btn-primary margin-right-5px">
                    Export Excel
                </button>
            </div>
        </div>
    </div>
    <div class="footerbar">COPYRIGHT &copy; {{ footerText }}</div>

</div>